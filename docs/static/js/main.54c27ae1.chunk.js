(window.webpackJsonppos=window.webpackJsonppos||[]).push([[0],{10:function(e,t,n){e.exports=n(19)},15:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(6),o=n.n(r),c=(n(15),n(2)),l=n(9),s=(n(16),n(17),function(e){return i.a.createElement("div",{className:"field is-horizontal"},i.a.createElement("div",{className:"field-label is-normal"},i.a.createElement("label",{className:"label"},e.label)),i.a.createElement("div",{className:"field-body"},i.a.createElement("div",{className:"field"},i.a.createElement("div",{className:"control ".concat(e.right?"has-icons-right":""," ").concat(e.left?"has-icons-left":"")},"select"===e.type?i.a.createElement("div",{className:"select"},i.a.createElement("select",{onChange:function(t){return e.onChange(t.target.value)},value:e.value},(e.options||[]).map(function(e){return i.a.createElement("option",{value:e.value},e.label||e.value)}))):i.a.createElement("input",{disabled:e.disabled,className:"input",type:e.type,value:e.value,onChange:function(t){return e.onChange(t.target.value)}}),e.left&&i.a.createElement("span",{className:"is-left icon"},e.left),e.right&&i.a.createElement("span",{className:"is-right icon"},e.right)))))}),u=n(7),m=n(8),f=new(function(){function e(){Object(u.a)(this,e)}return Object(m.a)(e,[{key:"get",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{if(null!=(t=JSON.parse(localStorage.getItem(e))))return t}catch(a){}return n}},{key:"set",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}}]),e}()),d=n(1),p=n.n(d),v=n(3),S=n(4),b=n.n(S),h={USD:1,OIL:57.35,BTC:8860,XAU:1458.48,EUR:1.1021,GBP:1.2793,AUD:.6856,CAD:.7558,CHF:1.0021,JPY:.009153,NZD:.6327},g={USOIL:{tickSize:.01,lotSize:1e3},BTCUSD:{tickSize:.1,lotSize:1},XAUUSD:{tickSize:.01,lotSize:100},USDJPY:{tickSize:.01,lotSize:1e5},USDCHF:{tickSize:1e-4,lotSize:1e5},USDCAD:{tickSize:1e-4,lotSize:1e5},GBPUSD:{tickSize:1e-4,lotSize:1e5},AUDUSD:{tickSize:1e-4,lotSize:1e5},NZDUSD:{tickSize:1e-4,lotSize:1e5},EURUSD:{tickSize:1e-4,lotSize:1e5},EURGBP:{tickSize:1e-4,lotSize:1e5},EURCHF:{tickSize:1e-4,lotSize:1e5},EURNZD:{tickSize:1e-4,lotSize:1e5},GBPJPY:{tickSize:1e-4,lotSize:1e5},GBPCAD:{tickSize:1e-4,lotSize:1e5},GBPNZD:{tickSize:1e-4,lotSize:1e5},GBPCHF:{tickSize:1e-4,lotSize:1e5},AUDCAD:{tickSize:1e-4,lotSize:1e5},AUDCHF:{tickSize:1e-4,lotSize:1e5},AUDNZD:{tickSize:1e-4,lotSize:1e5},AUDGBP:{tickSize:1e-4,lotSize:1e5},AUDJPY:{tickSize:1e-4,lotSize:1e5},CADCHF:{tickSize:1e-4,lotSize:1e5},CADJPY:{tickSize:1e-4,lotSize:1e5}},k=Object.keys(g);function y(e){if("USOIL"===e)return{basic:"OIL",quote:"USD"};var t=Object.keys(h),n=t.find(function(t){return e.startsWith(t)}),a=t.find(function(t){return e.endsWith(t)});if(!n||!a)throw new Error("Cannot find currency: ".concat(n," ").concat(a));return{basic:n,quote:a}}var z="";function w(e){return E.apply(this,arguments)}function E(){return(E=Object(v.a)(p.a.mark(function e(t){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=document.createElement("script")).src="https://api.jijinhao.com/plus/convert.htm?from_tkc=".concat(t,"&to_tkc=USD&amount=1&_=1573363635187"),document.body.appendChild(n),e.abrupt("return",new Promise(function(e,t){n.onerror=t,n.onload=function(){var t=window.result;"string"===typeof t&&/^[\d.]+$/.test(t)&&t!==z&&(e(Number(t)),z=t),document.body.removeChild(n)}}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Object(v.a)(p.a.mark(function e(){var t,n,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.info("\u8df3\u8fc7\u52a0\u8f7d: BTC, OIL"),!(t=b.a.get("updated_currency"))){e.next=7;break}return 36e5,Object.assign(h,f.get("currency_exchange",{})),console.log("".concat(((Number(t)+864e5-Date.now())/36e5).toFixed(2),"\u5c0f\u65f6\u540e\u66f4\u65b0\u6c47\u7387")),e.abrupt("return");case 7:e.t0=p.a.keys(h);case 8:if((e.t1=e.t0()).done){e.next=25;break}if(n=e.t1.value,!["USD","OIL","BTC"].includes(n)){e.next=12;break}return e.abrupt("continue",8);case 12:return e.prev=12,e.next=15,w(n);case 15:a=e.sent,h[n]=a,console.info("\u52a0\u8f7d\u6700\u65b0\u7684 ".concat(n,"/USD: ").concat(a)),e.next=23;break;case 20:e.prev=20,e.t2=e.catch(12),console.error("\u52a0\u8f7d ".concat(n,"/USD \u5931\u8d25."),e.t2);case 23:e.next=8;break;case 25:f.set("currency_exchange",h),b.a.set("updated_currency",String(Date.now()),{expires:1});case 27:case"end":return e.stop()}},e,null,[[12,20]])}))();var U={risk:2,balance:500,stopLossPoints:100,lever:2e3,symbol:"USDCHF"},C=function(){var e=Object(a.useState)(f.get("state",U)),t=Object(l.a)(e,2),n=t[0],r=t[1];window.store=f;var o=Object(a.useRef)(null),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return function(n){setTimeout(function(){r(function(a){return a=O({},a,Object(c.a)({},e,t(n))),o.current&&(clearTimeout(o.current),o.current=null),o.current=setTimeout(function(){f.set("state",a),o.current=null},1e3),a})})}},m=function(e){return u(e,Number)},d=function(e){if("USOIL"===e)return g[e].lotSize*g[e].tickSize*h.OIL/h.OIL;var t=y(e),n=t.basic,a=t.quote;return g[e].lotSize*g[e].tickSize*h[n]/(h[n]/h[a])}(n.symbol),p=n.balance*(n.risk/100)/(n.stopLossPoints*d);p=Math.round(100*p)/100;var v=y(n.symbol),S=v.basic,b=(v.quote,g[n.symbol].lotSize*h[S]),z=Number((b*p/n.lever).toFixed(2));return i.a.createElement("div",{className:"container root"},i.a.createElement("h1",{className:"title"},"\u4ed3\u4f4d\u8ba1\u7b97\u5668"),i.a.createElement("div",{className:"columns is-mobile is-multiline is-centered"},i.a.createElement("div",{className:"column is-half"},i.a.createElement(s,{type:"number",label:"\u8d26\u6237\u4f59\u989d",value:n.balance,left:"$",onChange:m("balance")})),i.a.createElement("div",{className:"column is-half"},i.a.createElement(s,{type:"number",label:"\u6bcf\u7b14\u98ce\u9669",value:n.risk,right:"%",onChange:m("risk")})),i.a.createElement("div",{className:"column is-half"},i.a.createElement(s,{type:"select",label:"\u8d27\u5e01\u5bf9",value:n.symbol,options:k.map(function(e){return{value:e}}),onChange:u("symbol")})),i.a.createElement("div",{className:"column is-half"},i.a.createElement(s,{type:"number",label:"\u6760\u6746",value:n.lever,onChange:m("lever")})),i.a.createElement("div",{className:"column is-half"},i.a.createElement(s,{type:"number",label:"\u6b62\u635f\u70b9\u6570",value:n.stopLossPoints,onChange:m("stopLossPoints")})),i.a.createElement("div",{className:"column is-half"},["BTCUSD","USOIL"].includes(n.symbol)&&function(){var e="BTCUSD"===n.symbol?"BTC":"OIL";return i.a.createElement(s,{type:"number",label:"".concat(e,"\u5151\u7f8e\u5143"),value:h[e],onChange:function(t){setTimeout(function(){h[e]=t,f.set("currency_exchange",h),r(O({},n))})}})}()),i.a.createElement("div",{className:"column is-full"},i.a.createElement("div",{className:"notification is-primary"},i.a.createElement("div",null,"\u8fdb\u573a\u624b\u6570\uff1a",i.a.createElement("span",{className:"result"},p),"\u624b"),i.a.createElement("div",null,"\u8fdb\u573a\u4fdd\u8bc1\u91d1\uff1a",i.a.createElement("span",{className:"result"},"$",z))))))},N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(i.a.createElement(C,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/position-caculator",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/position-caculator","/service-worker.js");N?(!function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):P(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):P(t,e)})}}()}},[[10,1,2]]]);
//# sourceMappingURL=main.54c27ae1.chunk.js.map